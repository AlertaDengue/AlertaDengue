{% load i18n %}
{% load bootstrap4 %}
{% load static %}

<li id="{{id}}" class="list-group-item
  {% if status == 0 %}list-group-item-primary
  {% elif status == 1 %}list-group-item-success
  {% elif status == 2 %}list-group-item-danger
  {% else %}
  {% endif %}">
  <div style="display: flex; align-items: center;">
    <div style="flex: 1;">{{filename}}</div>
    <div>
      {% if status == 0 %}
      <i class="fas fa-sync-alt fa-spin" 
         style="cursor: pointer; margin-left: 10px;"></i>
      {% endif %}

      {% if status == 2 %}
      <i class="fas fa-exclamation-circle error-icon" 
         data-toggle="tooltip" 
         style="cursor: pointer; color: #dc3545; margin-left: 10px;">
      </i>

      <div id="error-message-{{id}}" class="error-message">
        {{error}}
      </div>
      {% endif %}
    </div>
  </div>
</li>

<style>
.error-message {
  position: absolute;
  left: 70%;
  background-color: #dc3545;
  color: white;
  padding: 8px 15px;
  border-radius: 5px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  z-index: 9999;
  display: none;
}

.error-icon:hover + .error-message {
  display: block;
}

.fas.fa-sync-alt.fa-spin {
  animation: spin 2s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
</style>
